<!-- Floating Reservar Button -->
<a
  (click)="scrollTo('contacto')"
  role="button"
  tabindex="0"
  aria-label="Hacer una reserva"
  class="reservar-btn"
  (keydown.enter)="scrollTo('contacto')"
>
  <span>Reservar</span>
</a>

<!-- ══════════════  HEADER  ══════════════ -->
<header [class.scrolled]="scrolled()" class="site-header" role="banner">

  <!-- Top bar (phone / logo / socials) — hidden when scrolled -->
  <div class="topbar" [class.topbar--hidden]="scrolled()" aria-label="Información del restaurante">
    <a href="tel:+5492494123456" class="topbar__phone" aria-label="Llamar al restaurante">
      <i class="fa-solid fa-phone" aria-hidden="true"></i>
      +54 249 412-3456
    </a>

    <a (click)="scrollTo('inicio')" class="topbar__logo" role="button" tabindex="0"
       aria-label="Ir al inicio" (keydown.enter)="scrollTo('inicio')">
      <span class="logo-main">Lo de Martín</span>
      <span class="logo-sub">Cocina &amp; Buenos Momentos</span>
    </a>

    <nav class="topbar__social" aria-label="Redes sociales">
      <a href="https://facebook.com" target="_blank" rel="noopener noreferrer"
         aria-label="Visitar nuestro Facebook">
        <i class="fa-brands fa-facebook-f" aria-hidden="true"></i> Facebook
      </a>
      <span class="separator" aria-hidden="true">|</span>
      <a href="https://instagram.com" target="_blank" rel="noopener noreferrer"
         aria-label="Visitar nuestro Instagram">
        <i class="fa-brands fa-instagram" aria-hidden="true"></i> Instagram
      </a>
    </nav>
  </div>

  <!-- Divider -->
  <div class="topbar__divider" [class.topbar__divider--hidden]="scrolled()" aria-hidden="true"></div>

  <!-- Main nav -->
  <nav class="main-nav" aria-label="Navegación principal">
    <!-- Compact logo (visible only when scrolled) -->
    <a (click)="scrollTo('inicio')" class="nav-logo-compact" [class.nav-logo-compact--visible]="scrolled()"
       role="button" tabindex="0" aria-label="Ir al inicio" (keydown.enter)="scrollTo('inicio')">
      Lo de Martín
    </a>

    <!-- Desktop links -->
    <ul class="nav-links" role="list">
      @for (link of navLinks; track link.id) {
        <li>
          <button
            (click)="scrollTo(link.id)"
            [class.active]="activeSection() === link.id"
            class="nav-link"
            [attr.aria-current]="activeSection() === link.id ? 'page' : null"
          >
            {{ link.label }}
          </button>
        </li>
      }
    </ul>

    <!-- Mobile hamburger -->
    <button
      class="hamburger"
      (click)="toggleMenu()"
      [attr.aria-expanded]="menuOpen()"
      aria-controls="mobile-menu"
      aria-label="Abrir menú de navegación"
    >
      <span class="hamburger__line" [class.open]="menuOpen()"></span>
      <span class="hamburger__line" [class.open]="menuOpen()"></span>
      <span class="hamburger__line" [class.open]="menuOpen()"></span>
    </button>
  </nav>

  <!-- Mobile dropdown menu -->
  <div
    id="mobile-menu"
    class="mobile-menu"
    [class.mobile-menu--open]="menuOpen()"
    role="navigation"
    aria-label="Menú móvil"
  >
    @for (link of navLinks; track link.id) {
      <button
        (click)="scrollTo(link.id)"
        [class.active]="activeSection() === link.id"
        class="mobile-link"
        [attr.aria-current]="activeSection() === link.id ? 'page' : null"
      >
        {{ link.label }}
      </button>
    }
  </div>
</header>
